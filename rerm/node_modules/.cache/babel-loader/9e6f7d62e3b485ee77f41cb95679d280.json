{"ast":null,"code":"var _jsxFileName = \"/home/sammy/projects/jwtenv/howprofile/rerm/src/components/SaveImage.js\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class SaveImage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n    };\n\n    this.handleImageChange = e => {\n      this.setState({\n        image: e.target.files[0] // image: e.target.value\n\n      });\n      console.log(e.target.files);\n    };\n\n    this.state = {\n      title: '',\n      content: '',\n      image: null\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleImageChange = this.handleImageChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    console.log(this.state);\n    var imagedata = document.querySelector('input[type=\"file\"]').files[0];\n    let form_data = new FormData();\n    form_data.append('image', this.state.image, this.state.image.name);\n    form_data.append('title', this.state.title);\n    form_data.append('content', this.state.content);\n    fetch(\"http://localhost:8000/post/\", {\n      method: 'POST',\n      // mode : 'cors',\n      headers: {\n        'content-type': 'multipart/form-data',\n        // 'Content-type': 'application/json',\n        'accept': 'application/json'\n      },\n      body: JSON.stringify({\n        'image': this.state.image,\n        //this.state.image.name,\n        'title': this.state.title,\n        'content': this.state.content\n      })\n    }).then(res => {\n      res.json();\n      console.log(res);\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        method: \"POST\",\n        onSubmit: this.handleSubmit,\n        encType: \"multipart/form-data\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Title\",\n            id: \"title\",\n            value: this.state.title,\n            onChange: this.handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Content\",\n            id: \"content\",\n            value: this.state.content,\n            onChange: this.handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            id: \"image\",\n            accept: \"image/png, image/jpeg\",\n            onChange: this.handleImageChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/home/sammy/projects/jwtenv/howprofile/rerm/src/components/SaveImage.js"],"names":["React","SaveImage","Component","constructor","props","handleChange","e","setState","target","id","value","handleImageChange","image","files","console","log","state","title","content","bind","handleSubmit","preventDefault","imagedata","document","querySelector","form_data","FormData","append","name","fetch","method","headers","body","JSON","stringify","then","res","json","catch","render"],"mappings":"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","sourcesContent":["import React from 'react';\n\nexport default class SaveImage extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n             title: '',\n            content: '',\n            image: null\n        }\n\n        this.handleChange = this.handleChange.bind(this)\n        this.handleImageChange = this.handleImageChange.bind(this)\n        this.handleSubmit = this.handleSubmit.bind(this)\n    }\n\n    handleChange = (e) => {\n        this.setState({\n            [e.target.id]: e.target.value\n        })\n    };\n\n    handleImageChange = (e) => {\n        this.setState({\n            image: e.target.files[0]\n            // image: e.target.value\n        })\n        console.log(e.target.files)\n    };\n\n    handleSubmit(e){\n        e.preventDefault();\n        console.log(this.state);\n        var imagedata = document.querySelector('input[type=\"file\"]').files[0];\n        let form_data = new FormData();\n        form_data.append('image', this.state.image, this.state.image.name);\n        form_data.append('title', this.state.title);\n        form_data.append('content', this.state.content);\n\n        fetch(\"http://localhost:8000/post/\", {\n            method : 'POST',\n            // mode : 'cors',\n            headers: {\n                'content-type': 'multipart/form-data',\n                // 'Content-type': 'application/json',\n                'accept': 'application/json',       \n            }, \n\n            body: JSON.stringify({\n                'image' : this.state.image, //this.state.image.name,\n                'title' : this.state.title,\n                'content' : this.state.content,\n            })\n        })\n        .then(res => {\n            res.json()\n            console.log(res)\n            \n        })\n        .catch(e => {\n            console.log(e)\n        })\n    }\n\n    render(){\n        return(\n            <div className=\"App\">\n                <form method=\"POST\" onSubmit={this.handleSubmit} encType=\"multipart/form-data\">\n                <p>\n                    <input type=\"text\" placeholder='Title' id='title' value={this.state.title} onChange={this.handleChange} required/>\n                </p>\n                <p>\n                    <input type=\"text\" placeholder='Content' id='content' value={this.state.content} onChange={this.handleChange} required/>\n                </p>\n                <p>\n                    <input type=\"file\"\n                        id=\"image\"\n                        accept=\"image/png, image/jpeg\"  onChange={this.handleImageChange} required/>\n                </p>\n                <input type=\"submit\"/>\n                </form>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}