{"ast":null,"code":"var _jsxFileName = \"/home/sammy/projects/jwtenv/howprofile/rerm/src/components/SaveImage.js\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class SaveImage extends React.Component {\n  constructor(props) {\n    this.state = {\n      title: '',\n      content: '',\n      image: null\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleImageChange = this.handleImageChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    console.log(this.state);\n    var imagedata = document.querySelector('input[type=\"file\"]').files[0];\n    let form_data = new FormData();\n    form_data.append('image', this.state.image, this.state.image.name);\n    form_data.append('title', this.state.title);\n    form_data.append('content', this.state.content);\n    fetch(\"http://127.0.0.1:8000/create-user/\", {\n      method: 'POST',\n      mode: 'cors',\n      cache: 'no-cache',\n      credentials: 'omit',\n      headers: {\n        // 'Content-Type' : 'application/x-www-form-urlencoded',\n        'Content-Type': 'application/json',\n        'accept': 'application/json'\n      },\n      body: JSON.stringify(this.state)\n    }).then(res => {\n      res.json();\n      console.log(res);\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        method: \"POST\",\n        onSubmit: this.handleSubmit,\n        encType: \"multipart/form-data\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Title\",\n            id: \"title\",\n            value: this.state.title,\n            onChange: this.handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Content\",\n            id: \"content\",\n            value: this.state.content,\n            onChange: this.handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            id: \"image\",\n            accept: \"image/png, image/jpeg\",\n            onChange: this.handleImageChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/home/sammy/projects/jwtenv/howprofile/rerm/src/components/SaveImage.js"],"names":["React","SaveImage","Component","constructor","props","state","title","content","image","handleChange","bind","handleImageChange","handleSubmit","e","preventDefault","console","log","imagedata","document","querySelector","files","form_data","FormData","append","name","fetch","method","mode","cache","credentials","headers","body","JSON","stringify","then","res","json","catch","render"],"mappings":"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","sourcesContent":["import React from 'react';\n\nexport default class SaveImage extends React.Component {\n    constructor(props){\n        this.state = {\n             title: '',\n            content: '',\n            image: null\n        }\n\n        this.handleChange = this.handleChange.bind(this)\n        this.handleImageChange = this.handleImageChange.bind(this)\n        this.handleSubmit = this.handleSubmit.bind(this)\n    }\n\n    handleChange = (e) => {\n        this.setState({\n            [e.target.id]: e.target.value\n        })\n    };\n\n    handleImageChange = (e) => {\n        this.setState({\n            image: e.target.files[0]\n        })\n        console.log(e.target.files)\n    };\n\n    handleSubmit(e){\n        e.preventDefault();\n        console.log(this.state);\n        var imagedata = document.querySelector('input[type=\"file\"]').files[0];\n        let form_data = new FormData();\n        form_data.append('image', this.state.image, this.state.image.name);\n        form_data.append('title', this.state.title);\n        form_data.append('content', this.state.content);\n\n        fetch(\"http://127.0.0.1:8000/create-user/\", {\n            method : 'POST',\n            mode : 'cors',\n            cache : 'no-cache',\n            credentials : 'omit',\n            headers: {\n                // 'Content-Type' : 'application/x-www-form-urlencoded',\n                'Content-Type': 'application/json',\n                'accept': 'application/json',         \n            }, \n\n            body: JSON.stringify(this.state)\n        })\n        .then(res => {\n            res.json()\n            console.log(res)\n            \n        })\n        .catch(e => {\n            console.log(e)\n        })\n    }\n\n    render(){\n        return(\n            <div className=\"App\">\n                <form method=\"POST\" onSubmit={this.handleSubmit} encType=\"multipart/form-data\">\n                <p>\n                    <input type=\"text\" placeholder='Title' id='title' value={this.state.title} onChange={this.handleChange} required/>\n                </p>\n                <p>\n                    <input type=\"text\" placeholder='Content' id='content' value={this.state.content} onChange={this.handleChange} required/>\n                </p>\n                <p>\n                    <input type=\"file\"\n                        id=\"image\"\n                        accept=\"image/png, image/jpeg\"  onChange={this.handleImageChange} required/>\n                </p>\n                <input type=\"submit\"/>\n                </form>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}