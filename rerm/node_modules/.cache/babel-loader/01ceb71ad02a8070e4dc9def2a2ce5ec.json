{"ast":null,"code":"import _objectSpread from\"/home/sammy/projects/jwtenv/howprofile/rerm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/sammy/projects/jwtenv/howprofile/rerm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/sammy/projects/jwtenv/howprofile/rerm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/sammy/projects/jwtenv/howprofile/rerm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/sammy/projects/jwtenv/howprofile/rerm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/sammy/projects/jwtenv/howprofile/rerm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Profile=/*#__PURE__*/function(_React$Component){_inherits(Profile,_React$Component);var _super=_createSuper(Profile);function Profile(props){var _this;_classCallCheck(this,Profile);_this=_super.call(this,props);_this.showModal=function(){_this.setState(_objectSpread(_objectSpread({},_this.state.show),{},{show:true}));};_this.hideModal=function(){_this.setState(_objectSpread(_objectSpread({},_this.state.show),{},{show:false}));};_this.state={show:false,currentuser:[],longindetails:{}};_this.getCurentUser=_this.getCurentUser.bind(_assertThisInitialized(_this));return _this;}_createClass(Profile,[{key:\"componentDidMount\",value:function componentDidMount(){this.getCurentUser();}// componentDidUpdate(){\n//     this.getCurentUser()\n// }\n},{key:\"getCurentUser\",value:function getCurentUser(){var _this2=this;fetch('http://127.0.0.1:8000/api/active/user/',{method:'GET',mode:'cors',cache:'no-cache',credentials:'omit',headers:{// 'Content-Type' : 'application/x-www-form-urlencoded'\n'Content-Type':'application/json','accept':'application/json','Authorization':'JWT '+localStorage.getItem('access_token')}// body: JSON.stringify(this.state)\n}).then(function(response){return response.json();}).then(function(data){// console.log('Data :', data)\nif(data.code===\"token_not_valid\"){_this2.showModal();}else{// console.log('gfhk')\n_this2.setState(_objectSpread(_objectSpread({},_this2.state.currentuser),{},{currentuser:[data]}));// this.state.currentuser.append(data)\n// console.log(\"user :\", this.state.currentuser)\n// console.log('id', this.state.currentuser)\n}}).catch(function(error){// console.log(error)\n});}},{key:\"render\",value:function render(){var user=this.state.currentuser;var self=this;return/*#__PURE__*/_jsx(\"div\",{children:user.map(function(user,index){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:'center'},children:\"User Profile\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"img\",{src:user.userimage,alt:\"img\",style:{width:'100%'}}),/*#__PURE__*/_jsxs(\"h1\",{children:[user.name,\" \"]}),/*#__PURE__*/_jsx(\"p\",{className:\"\",children:user.email}),/*#__PURE__*/_jsx(\"p\",{children:user.department}),/*#__PURE__*/_jsx(\"p\",{children:user.faculty}),/*#__PURE__*/_jsx(\"p\",{children:user.gender}),/*#__PURE__*/_jsx(\"p\",{children:user.username}),/*#__PURE__*/_jsx(\"p\",{children:\"Developer\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/sign-in\",children:\"Logout\"})})]})]},index);})});}}]);return Profile;}(React.Component);export{Profile as default};","map":{"version":3,"sources":["/home/sammy/projects/jwtenv/howprofile/rerm/src/components/Profile.js"],"names":["React","Profile","props","showModal","setState","state","show","hideModal","currentuser","longindetails","getCurentUser","bind","fetch","method","mode","cache","credentials","headers","localStorage","getItem","then","response","json","data","code","catch","error","user","self","map","index","textAlign","userimage","width","name","email","department","faculty","gender","username","Component"],"mappings":"28BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,C,2FAEqBC,CAAAA,O,8GACjB,iBAAYC,KAAZ,CAAkB,yCACd,uBAAMA,KAAN,EADc,MAmBlBC,SAnBkB,CAmBN,UAAM,CACd,MAAKC,QAAL,gCACO,MAAKC,KAAL,CAAWC,IADlB,MAEIA,IAAI,CAAE,IAFV,IAIH,CAxBiB,OA0BlBC,SA1BkB,CA0BN,UAAM,CACd,MAAKH,QAAL,gCACO,MAAKC,KAAL,CAAWC,IADlB,MAEIA,IAAI,CAAE,KAFV,IAIH,CA/BiB,CAEd,MAAKD,KAAL,CAAa,CACTC,IAAI,CAAC,KADI,CAETE,WAAW,CAAE,EAFJ,CAGTC,aAAa,CAAE,EAHN,CAAb,CAMA,MAAKC,aAAL,CAAqB,MAAKA,aAAL,CAAmBC,IAAnB,+BAArB,CARc,aASjB,C,qDAED,4BAAoB,CAChB,KAAKD,aAAL,GACH,CAED;AACA;AACA;6BAgBA,wBAAe,iBACXE,KAAK,CAAC,wCAAD,CAA0C,CAC3CC,MAAM,CAAG,KADkC,CAE3CC,IAAI,CAAG,MAFoC,CAG3CC,KAAK,CAAG,UAHmC,CAI3CC,WAAW,CAAG,MAJ6B,CAK3CC,OAAO,CAAE,CACL;AACA,eAAgB,kBAFX,CAGL,SAAU,kBAHL,CAIL,gBAAiB,OAASC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAJrB,CAMT;AAX2C,CAA1C,CAAL,CAaCC,IAbD,CAaM,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EAbd,EAcCF,IAdD,CAcM,SAAAG,IAAI,CAAI,CACV;AACA,GAAGA,IAAI,CAACC,IAAL,GAAc,iBAAjB,CAAmC,CAC/B,MAAI,CAACrB,SAAL,GACH,CAFD,IAES,CACL;AACA,MAAI,CAACC,QAAL,gCACO,MAAI,CAACC,KAAL,CAAWG,WADlB,MAEIA,WAAW,CAAC,CAACe,IAAD,CAFhB,IAIA;AACA;AACA;AACH,CACJ,CA5BD,EA6BCE,KA7BD,CA6BO,SAACC,KAAD,CAAW,CACd;AACH,CA/BD,EAgCH,C,sBAGD,iBAAQ,CACJ,GAAIC,CAAAA,IAAI,CAAG,KAAKtB,KAAL,CAAWG,WAAtB,CACA,GAAIoB,CAAAA,IAAI,CAAG,IAAX,CACA,mBACI,qBAYKD,IAAI,CAACE,GAAL,CAAS,SAASF,IAAT,CAAeG,KAAf,CAAqB,CAC3B,mBACI,oCACA,WAAI,KAAK,CAAE,CAACC,SAAS,CAAC,QAAX,CAAX,0BADA,cAEA,aAAK,SAAS,CAAC,MAAf,wBAEI,YAAK,GAAG,CAAEJ,IAAI,CAACK,SAAf,CAA0B,GAAG,CAAC,KAA9B,CAAoC,KAAK,CAAE,CAACC,KAAK,CAAC,MAAP,CAA3C,EAFJ,cAGI,sBAAKN,IAAI,CAACO,IAAV,OAHJ,cAII,UAAG,SAAS,CAAC,EAAb,UAAiBP,IAAI,CAACQ,KAAtB,EAJJ,cAKI,mBAAIR,IAAI,CAACS,UAAT,EALJ,cAMI,mBAAIT,IAAI,CAACU,OAAT,EANJ,cAOI,mBAAIV,IAAI,CAACW,MAAT,EAPJ,cAQI,mBAAIX,IAAI,CAACY,QAAT,EARJ,cASI,gCATJ,cAWI,kCACG,UAAG,IAAI,CAAC,UAAR,oBADH,EAXJ,GAFA,GAAUT,KAAV,CADJ,CAoBH,CArBA,CAZL,EADJ,CAsCH,C,qBA/GgC9B,KAAK,CAACwC,S,SAAtBvC,O","sourcesContent":["import React from 'react';\n\nexport default class Profile extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            show:false,\n            currentuser: [],\n            longindetails: {}\n        }\n\n        this.getCurentUser = this.getCurentUser.bind(this)\n    }\n\n    componentDidMount() {\n        this.getCurentUser()\n    }\n\n    // componentDidUpdate(){\n    //     this.getCurentUser()\n    // }\n\n    showModal = () => {\n        this.setState({\n            ...this.state.show,\n            show: true\n        })\n    }\n\n    hideModal = () => {\n        this.setState({\n            ...this.state.show,\n            show: false\n        })\n    }\n\n    getCurentUser(){\n        fetch('http://127.0.0.1:8000/api/active/user/',{ \n            method : 'GET',\n            mode : 'cors',\n            cache : 'no-cache',\n            credentials : 'omit',\n            headers: {\n                // 'Content-Type' : 'application/x-www-form-urlencoded'\n                'Content-Type': 'application/json',\n                'accept': 'application/json',  \n                'Authorization': 'JWT ' + localStorage.getItem('access_token')             \n            }, \n            // body: JSON.stringify(this.state)\n        })\n        .then(response => response.json())\n        .then(data => {\n            // console.log('Data :', data)\n            if(data.code === \"token_not_valid\"){\n                this.showModal()\n            }   else {\n                // console.log('gfhk')\n                this.setState({\n                    ...this.state.currentuser,\n                    currentuser:[data]\n                });\n                // this.state.currentuser.append(data)\n                // console.log(\"user :\", this.state.currentuser)\n                // console.log('id', this.state.currentuser)\n            }\n        })\n        .catch((error) => {\n            // console.log(error)\n        })\n    }\n\n    \n    render(){\n        var user = this.state.currentuser\n        var self = this        \n        return(\n            <div>\n                {/* <h2 style={{textAlign:'center'}}>User Profile</h2>\n                <div className=\"card\">\n\n                    <img src=\"\" alt=\"img\" style={{width:'100%'}}/>\n                    <h1>{user.id} </h1>\n                    <p className=\"title\">Student</p>\n                    <p>School</p>\n                    <div>\n                        \n                    </div>\n                </div> */}\n                {user.map(function(user, index){\n                    return(\n                        <div key={index}>\n                        <h2 style={{textAlign:'center'}}>User Profile</h2>\n                        <div className=\"card\">\n\n                            <img src={user.userimage} alt=\"img\" style={{width:'100%'}}/>\n                            <h1>{user.name} </h1>\n                            <p className=\"\">{user.email}</p>\n                            <p>{user.department}</p>\n                            <p>{user.faculty}</p>\n                            <p>{user.gender}</p>\n                            <p>{user.username}</p>\n                            <p>Developer</p>\n                            {/* <p>{user.userimage}</p> */}\n                            <div>\n                               <a href=\"/sign-in\">Logout</a> \n                            </div>\n                        </div>\n                        </div>\n                    )\n                })}\n            </div>\n        )\n        \n    }\n}\n"]},"metadata":{},"sourceType":"module"}