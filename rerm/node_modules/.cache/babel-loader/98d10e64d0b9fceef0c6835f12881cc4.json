{"ast":null,"code":"import _defineProperty from\"/home/sammy/projects/jwtenv/howprofile/rerm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/sammy/projects/jwtenv/howprofile/rerm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/sammy/projects/jwtenv/howprofile/rerm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/sammy/projects/jwtenv/howprofile/rerm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/sammy/projects/jwtenv/howprofile/rerm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/sammy/projects/jwtenv/howprofile/rerm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/sammy/projects/jwtenv/howprofile/rerm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Link}from'react-router-dom';import axios from'axios';import{useHistory}from'react-router';import Modal from'./Modal';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Signup=/*#__PURE__*/function(_React$Component){_inherits(Signup,_React$Component);var _super=_createSuper(Signup);function Signup(props){var _this;_classCallCheck(this,Signup);_this=_super.call(this,props);_this.showModal=function(){_this.setState(_objectSpread(_objectSpread({},_this.state.show),{},{show:true}));};_this.hideModal=function(){_this.setState(_objectSpread(_objectSpread({},_this.state.show),{},{show:false}));};_this.state={show:false,dept:[],user:{email:\"\",username:\"\",firstname:\"\",surname:\"\",othername:\"\",department:null,password:\"\",gender:\"\",image:null}};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleFileInput=_this.handleFileInput.bind(_assertThisInitialized(_this));_this.alldepartments=_this.alldepartments.bind(_assertThisInitialized(_this));_this.showModal=_this.showModal.bind(_assertThisInitialized(_this));_this.hideModal=_this.hideModal.bind(_assertThisInitialized(_this));return _this;}_createClass(Signup,[{key:\"componentDidMount\",value:function componentDidMount(){this.alldepartments();}},{key:\"alldepartments\",value:function alldepartments(){var _this2=this;var dept=[];fetch('http://127.0.0.1:8000/api/departments/').then(function(response){return response.json();}).then(function(data){// console.log(data)\n_this2.setState({dept:data});});}},{key:\"handleChange\",value:function handleChange(event){this.setState({user:_objectSpread(_objectSpread({},this.state.user),{},_defineProperty({},event.target.name,event.target.value))});// console.log(this.state.user)\n}},{key:\"handleFileInput\",value:function handleFileInput(e){//    console.log(e) \nthis.setState({user:_objectSpread(_objectSpread({},this.state.user),{},_defineProperty({},e.target.name,e.target.value))});}},{key:\"handleSubmit\",value:function handleSubmit(e){var _this3=this;e.preventDefault();var imagedata=document.querySelector('input[type=\"file\"]').files[0];var form_data=new FormData();form_data.append('image',imagedata);form_data.append('email',this.state.user.email);form_data.append('username',this.state.user.username);form_data.append('firstname',this.state.user.firstname);form_data.append('surname',this.state.user.surname);form_data.append('othername',this.state.user.othername);form_data.append('department',this.state.user.department);form_data.append('password',this.state.user.password);form_data.append('gender',this.state.user.gender);form_data.append('image',imagedata);var url='http://localhost:8000/api/save-user/';axios.post(url,form_data,{headers:{'content-type':'multipart/form-data','accept':'application/json'}}).then(function(res){// console.log(res)\n// console.log(res.data);\nif(res.data.message===\"saved successfully\"){_this3.showModal();}}).catch(function(err){return console.log(\"ERROR :\",err);});}},{key:\"render\",value:function render(){var depts=this.state.dept;var self=this;return/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"First name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:this.handleChange,value:this.state.user.firstname,name:\"firstname\",className:\"form-control\",placeholder:\"First name\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Surname\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:this.handleChange,value:this.state.user.surname,name:\"surname\",className:\"form-control\",placeholder:\"surname\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Othernames\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:this.handleChange,value:this.state.user.othername,name:\"othername\",className:\"form-control\",placeholder:\"Othername\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:this.handleChange,value:this.state.user.username,name:\"username\",className:\"form-control\",placeholder:\"username\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",onChange:this.handleChange,value:this.state.user.email,name:\"email\",className:\"form-control\",placeholder:\"Enter email\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Gender\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",onChange:this.handleChange,value:this.state.user.gender,name:\"gender\",children:[/*#__PURE__*/_jsx(\"option\",{children:\" --Select gender--\"}),/*#__PURE__*/_jsx(\"option\",{value:\"male\",children:\"Male\"}),/*#__PURE__*/_jsx(\"option\",{value:\"female\",children:\"Female\"}),/*#__PURE__*/_jsx(\"option\",{value:\"other\",children:\"Other\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Department\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control deptSelect\",onChange:this.handleChange,value:this.state.user.department,name:\"department\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{children:\" --Select department-- \"}),depts.map(function(dept,index){return/*#__PURE__*/_jsx(\"option\",{value:dept.dept_id,children:dept.dept_name},dept.dept_id);})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Upload profile picture\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"userimage\",onChange:this.handleFileInput,value:this.state.user.image,className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",onChange:this.handleChange,value:this.state.user.password,name:\"password\",className:\"form-control\",placeholder:\"Enter password\",required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary btn-block\",children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"forgot-password text-right\",children:[\"Already registered \",/*#__PURE__*/_jsx(Link,{to:\"/sign-in\",children:\"sign in?\"})]}),/*#__PURE__*/_jsxs(Modal,{show:this.state.show,handleClose:this.hideModal,children:[/*#__PURE__*/_jsx(\"p\",{children:\"Modal\"}),/*#__PURE__*/_jsx(Link,{to:\"/sign-in\",children:\"Ok\"})]})]});}}]);return Signup;}(React.Component);export{Signup as default};","map":{"version":3,"sources":["/home/sammy/projects/jwtenv/howprofile/rerm/src/components/OkSignup.js"],"names":["React","Link","axios","useHistory","Modal","Signup","props","showModal","setState","state","show","hideModal","dept","user","email","username","firstname","surname","othername","department","password","gender","image","handleSubmit","bind","handleChange","handleFileInput","alldepartments","fetch","then","response","json","data","event","target","name","value","e","preventDefault","imagedata","document","querySelector","files","form_data","FormData","append","url","post","headers","res","message","catch","err","console","log","depts","self","map","index","dept_id","dept_name","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { useHistory } from 'react-router';\nimport Modal from './Modal';\n\n\nexport default class Signup extends React.Component {\n    \n    constructor(props){\n        super(props);\n        this.state = {\n            show: false,\n            dept:[],\n            user: {\n                email : \"\",\n                username : \"\",\n                firstname : \"\",\n                surname : \"\",\n                othername : \"\",\n                department : null,\n                password : \"\",\n                gender : \"\",\n                image: null,\n            }\n        };\n        \n\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handleFileInput = this.handleFileInput.bind(this);\n        this.alldepartments = this.alldepartments.bind(this);\n        \n        this.showModal = this.showModal.bind(this);\n        this.hideModal = this.hideModal.bind(this);\n    }\n    \n    componentDidMount(){\n        this.alldepartments()\n    }\n\n    showModal = () => {\n        this.setState({\n            ...this.state.show,\n            show: true\n        })\n    }\n\n    hideModal = () => {\n        this.setState({\n            ...this.state.show,\n            show: false\n        })\n    }\n\n    alldepartments(){\n        var dept = []\n        fetch('http://127.0.0.1:8000/api/departments/')\n        .then(response => response.json())\n        .then(data => {\n            // console.log(data)\n            this.setState({\n                dept:data\n            })\n        });\n    }\n\n    handleChange(event) {\n        this.setState({\n            user:{\n                ...this.state.user,\n                [event.target.name]: event.target.value\n            }\n        });\n        // console.log(this.state.user)\n    }\n    handleFileInput(e){\n    //    console.log(e) \n       \n       this.setState({\n           user:{\n            ...this.state.user,   \n            [e.target.name]: e.target.value\n           }\n        });\n    }\n    \n    handleSubmit(e){\n        e.preventDefault()\n\n        var imagedata = document.querySelector('input[type=\"file\"]').files[0];\n        let form_data = new FormData();\n        form_data.append('image', imagedata);\n        form_data.append('email', this.state.user.email);\n        form_data.append('username', this.state.user.username);\n        form_data.append('firstname', this.state.user.firstname);\n        form_data.append('surname', this.state.user.surname);\n        form_data.append('othername', this.state.user.othername);\n        form_data.append('department', this.state.user.department);\n        form_data.append('password', this.state.user.password);\n        form_data.append('gender', this.state.user.gender);\n        form_data.append('image', imagedata);\n           \n        let url = 'http://localhost:8000/api/save-user/';\n        axios.post(url, form_data, {\n            headers: {\n            'content-type': 'multipart/form-data',\n            'accept': 'application/json',\n            }\n        })\n        .then(res => {\n            // console.log(res)\n            // console.log(res.data);\n            if (res.data.message === \"saved successfully\"){\n               this.showModal()\n            }\n        })\n        .catch(err => console.log(\"ERROR :\", err))\n    }\n\n    render() {\n        var depts = this.state.dept\n        var self = this\n        return(\n            <form onSubmit={this.handleSubmit}>\n                <h3>Sign Up</h3>\n\n                <div className=\"form-group\">\n                    <label>First name</label>\n                    <input type=\"text\" onChange={this.handleChange} value={this.state.user.firstname} name=\"firstname\" className=\"form-control\" placeholder=\"First name\" required />\n                </div>\n\n                <div className=\"form-group\">\n                    <label>Surname</label>\n                    <input type=\"text\" onChange={this.handleChange} value={this.state.user.surname} name=\"surname\" className=\"form-control\" placeholder=\"surname\" required/>\n                </div>\n\n                <div className=\"form-group\">\n                    <label>Othernames</label>\n                    <input type=\"text\" onChange={this.handleChange} value={this.state.user.othername} name=\"othername\" className=\"form-control\" placeholder=\"Othername\" />\n                </div>\n\n                <div className=\"form-group\">\n                    <label>Username</label>\n                    <input type=\"text\" onChange={this.handleChange} value={this.state.user.username} name=\"username\" className=\"form-control\" placeholder=\"username\" required/>\n                </div>\n\n                <div className=\"form-group\">\n                    <label>Email address</label>\n                    <input type=\"email\" onChange={this.handleChange} value={this.state.user.email} name=\"email\" className=\"form-control\" placeholder=\"Enter email\" required/>\n                </div>\n\n                <div className=\"form-group\">\n                    <label>Gender</label>\n                    <select className=\"form-control\" onChange={this.handleChange} value={this.state.user.gender} name=\"gender\">\n                        <option > --Select gender--</option>\n                        <option value=\"male\">Male</option>\n                        <option value=\"female\">Female</option>\n                        <option value=\"other\">Other</option>\n                    </select>\n                </div>\n\n                <div className=\"form-group\">\n                    <label>Department</label>\n                    <select className=\"form-control deptSelect\" onChange={this.handleChange} value={this.state.user.department} name=\"department\" required >\n                        <option> --Select department-- </option>\n                        {depts.map(function(dept, index){\n                            return(\n                                <option key={dept.dept_id} value={dept.dept_id}>{dept.dept_name}</option>\n                            )\n                        })}\n                    </select>\n                </div>\n\n                <div className=\"form-group\" >\n                    <label>Upload profile picture</label>\n                    <input type=\"file\" name=\"userimage\" onChange={this.handleFileInput} value={this.state.user.image} className=\"form-control\" />\n                </div>\n\n                <div className=\"form-group\">\n                    <label>Password</label>\n                    <input type=\"password\" onChange={this.handleChange} value={this.state.user.password} name=\"password\" className=\"form-control\" placeholder=\"Enter password\" required />\n                </div>\n\n                <button type=\"submit\" className=\"btn btn-primary btn-block\">Sign Up</button>\n                <p className=\"forgot-password text-right\">\n                    Already registered <Link to={\"/sign-in\"}>sign in?</Link>\n                </p>\n                <Modal show={this.state.show} handleClose={this.hideModal}>\n                    <p>Modal</p>\n                    <Link to={\"/sign-in\"}>Ok</Link>\n                </Modal>\n                {/* <button type=\"button\" onClick={this.showModal}>open</button> */}\n            </form>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}