{"ast":null,"code":"var _jsxFileName = \"/home/sammy/projects/jwtenv/howprofile/rerm/src/components/Profile.js\";\nimport React from 'react';\nimport Modal from './Modal';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Profile extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.showModal = () => {\n      this.setState({ ...this.state.show,\n        show: true\n      });\n    };\n\n    this.hideModal = () => {\n      this.setState({ ...this.state.show,\n        show: false\n      });\n    };\n\n    this.state = {\n      show: false,\n      currentuser: [],\n      longindetails: {}\n    };\n    this.getCurentUser = this.getCurentUser.bind(this);\n  }\n\n  componentDidMount() {\n    this.getCurentUser();\n  } // componentDidUpdate(){\n  //     this.getCurentUser()\n  // }\n\n\n  getCurentUser() {\n    fetch('http://127.0.0.1:8000/active/user/', {\n      method: 'GET',\n      mode: 'cors',\n      cache: 'no-cache',\n      credentials: 'omit',\n      headers: {\n        // 'Content-Type' : 'application/x-www-form-urlencoded'\n        'Content-Type': 'application/json',\n        'accept': 'application/json',\n        'Authorization': 'JWT ' + localStorage.getItem('access_token')\n      } // body: JSON.stringify(this.state)\n\n    }).then(response => response.json()).then(data => {\n      // console.log('Data :', data)\n      if (data.code === \"token_not_valid\") {\n        this.showModal();\n      } else {\n        console.log('gfhk');\n        this.setState({ ...this.state.currentuser,\n          currentuser: [data]\n        }); // this.state.currentuser.append(data)\n\n        console.log(\"user :\", this.state.currentuser); // console.log('id', this.state.currentuser)\n      }\n    }).catch(error => {// console.log(error)\n    });\n  }\n\n  render() {\n    var user = this.state.currentuser;\n    var self = this;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: user.map(function (user, index) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              textAlign: 'center'\n            },\n            children: \"User Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"http://127.0.0.1/media/{user.userimage}/\",\n              alt: \"img\",\n              style: {\n                width: '100%'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: [user.name, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"\",\n              children: user.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: user.department\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: user.faculty\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: user.gender\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: user.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: user.userimage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 25\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/home/sammy/projects/jwtenv/howprofile/rerm/src/components/Profile.js"],"names":["React","Modal","Link","Profile","Component","constructor","props","showModal","setState","state","show","hideModal","currentuser","longindetails","getCurentUser","bind","componentDidMount","fetch","method","mode","cache","credentials","headers","localStorage","getItem","then","response","json","data","code","console","log","catch","error","render","user","self","map","index","textAlign","width","name","email","department","faculty","gender","username","userimage"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Modal from './Modal';\nimport { Link } from 'react-router-dom';\n\nexport default class Profile extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            show:false,\n            currentuser: [],\n            longindetails: {}\n        }\n\n        this.getCurentUser = this.getCurentUser.bind(this)\n    }\n\n    componentDidMount() {\n        this.getCurentUser()\n    }\n\n    // componentDidUpdate(){\n    //     this.getCurentUser()\n    // }\n\n    showModal = () => {\n        this.setState({\n            ...this.state.show,\n            show: true\n        })\n    }\n\n    hideModal = () => {\n        this.setState({\n            ...this.state.show,\n            show: false\n        })\n    }\n\n    getCurentUser(){\n        fetch('http://127.0.0.1:8000/active/user/',{ \n            method : 'GET',\n            mode : 'cors',\n            cache : 'no-cache',\n            credentials : 'omit',\n            headers: {\n                // 'Content-Type' : 'application/x-www-form-urlencoded'\n                'Content-Type': 'application/json',\n                'accept': 'application/json',  \n                'Authorization': 'JWT ' + localStorage.getItem('access_token')             \n            }, \n            // body: JSON.stringify(this.state)\n        })\n        .then(response => response.json())\n        .then(data => {\n            // console.log('Data :', data)\n            if(data.code === \"token_not_valid\"){\n                this.showModal()\n            }   else {\n                console.log('gfhk')\n                this.setState({\n                    ...this.state.currentuser,\n                    currentuser:[data]\n                });\n                // this.state.currentuser.append(data)\n                console.log(\"user :\", this.state.currentuser)\n                // console.log('id', this.state.currentuser)\n            }\n        })\n        .catch((error) => {\n            // console.log(error)\n        })\n    }\n\n    \n    render(){\n        var user = this.state.currentuser\n        var self = this        \n        return(\n            <div>\n                {/* <h2 style={{textAlign:'center'}}>User Profile</h2>\n                <div className=\"card\">\n\n                    <img src=\"\" alt=\"img\" style={{width:'100%'}}/>\n                    <h1>{user.id} </h1>\n                    <p className=\"title\">Student</p>\n                    <p>School</p>\n                    <div>\n                        \n                    </div>\n                </div> */}\n                {user.map(function(user, index){\n                    return(\n                        <div>\n                        <h2 style={{textAlign:'center'}}>User Profile</h2>\n                        <div className=\"card\">\n\n                            <img src=\"http://127.0.0.1/media/{user.userimage}/\" alt=\"img\" style={{width:'100%'}}/>\n                            <h1>{user.name} </h1>\n                            <p className=\"\">{user.email}</p>\n                            <p>{user.department}</p>\n                            <p>{user.faculty}</p>\n                            <p>{user.gender}</p>\n                            <p>{user.username}</p>\n                            <p>{user.userimage}</p>\n                            <div>\n                                \n                            </div>\n                        </div>\n                        </div>\n                    )\n                })}\n            </div>\n        )\n        \n    }\n}\n"]},"metadata":{},"sourceType":"module"}